generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider     = "mongodb"
    url          = env("DATABASE_URL")
}

model User {
    id             String   @id @default(auto()) @map("_id") @db.ObjectId
    email          String   @unique
    password       String?
    pixels         Pixel?   @relation(fields: [pixelId], references: [id])
    TransactionId  Int?
    noOfPixels     Int?
    paymentSuccess Boolean?
    onIsland       Boolean?
    uploaded       Boolean?
    website        Website? @relation(fields: [websiteId], references: [id])

    pixelId   String? @db.ObjectId
    websiteId String? @db.ObjectId
}

model Website {
    id          String   @id @default(auto()) @map("_id") @db.ObjectId
    imageUrl    String
    websiteUrl  String
    title       String
    subtitle    String
    description String
    uploaded    Boolean?
    Pixel       Pixel    @relation(fields: [pixelId], references: [id])
    createdAt   DateTime @default(now())
    User        User[]
    pixelId     String   @db.ObjectId @unique
}

model Pixel {
    id          String       @id @default(auto()) @map("_id") @db.ObjectId
    coordinates Coordinate[]

    website Website?
    User    User[]
}

model Coordinate {
    id      String @id @default(auto()) @map("_id") @db.ObjectId
    x       Int
    y       Int
    pixel   Pixel  @relation(fields: [pixelId], references: [id])
    pixelId String @db.ObjectId
}
